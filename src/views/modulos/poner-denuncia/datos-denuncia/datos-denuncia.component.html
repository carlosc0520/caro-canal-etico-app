<section>
  <h2 class="text-2xl font-semibold mb-6 text-gray-600">
    Datos de la denuncia
  </h2>

  <form [formGroup]="formDatosDenuncia" class="space-y-6">
    <div>
      <label class="block text-gray-700 font-medium mb-1">Fecha de la incidencia <span class="text-red-500">*</span></label>
      <input type="date" [max]="maxDate" formControlName="FechaIncidencia" class="w-full border p-2 rounded outline-none">
    </div>

    <div>
      <label class="block text-gray-700 font-medium mb-1">Descripción <span class="text-red-500">*</span></label>
      <div class="relative">
          <textarea formControlName="DescripcionDenuncia" rows="5" class="w-full border p-2 rounded outline-none"></textarea>
          <button type="button" (click)="toggleRecording()" 
            [class.bg-green-600]="recording" [class.text-white]="recording" [class.bg-red-400]="!recording"
            class="absolute right-0 bottom-0 px-3.5 p-2 rounded-full shadow-lg transition">
                <i class="fa-solid fa-microphone"></i>
          </button>
      </div>

      <div class="flex justify-between items-center">
          <p class="text-gray-500 text-sm mt-1">
            {{ formDatosDenuncia.controls['DescripcionDenuncia'].value?.length || "0" }}/4000 caracteres
          </p>
          <i *ngIf="recording" class="text-sm text-green-500 mt-2">Escuchando...</i>
      </div>
    </div>
    <div>
        <p class="text-gray-700 text-sm">
          Por favor, describe en este recuadro todos los detalles sobre el asunto que te preocupa o sugerencia. 
          Trata de ser tan específico como puedas en cuanto a los nombres de departamentos, personas, documentos, 
          políticas, lugares, fechas, horas, etc.
        </p>
    </div>
    <div>
        <p class="text-gray-700 text-sm">
            Para grabar audio, haz clic en el icono del micrófono resaltado en color rojo, ubicado en la esquina inferior derecha. 
            Si prefieres no grabar audio, puedes escribir directamente en el cuadro de descripción sin ningún problema.
        </p>
    </div>
  </form>
</section>